# set modifier
set $super Mod4
set $mod Mod4

# set font
font pango: Noto Sans 8

# Use Mouse+$super to drag floating windows to their wanted position
floating_modifier $super

#autostart
exec --no-startup-id hsetroot -fill /home/abspython/Pictures/Wallpapers/wallhaven-718473.jpg &
exec --no-startup-id xsettingsd &
exec_always --no-startup-id compton -f -D 11 &
exec --no-startup-id nm-applet &
exec --no-startup-id xautolock -time 10 -locker 'i3lock -d -i ~/wallpaper.png -c 000000' &

# start a terminal
bindsym $super+Return exec i3-sensible-terminal

# start dmenu (launcher)
bindsym $super+Shift+d exec --no-startup-id i3-dmenu-desktop --dmenu="dmenu -i -fn 'Noto Sans:size=8'"
# start rofi (default launcher)
bindsym $super+d exec rofi -lines 12 -padding 18 -width 60 -location 0 -show drun -sidebar-mode -columns 3 -font 'Noto Sans 12'

# common apps keybinds
bindsym Print exec scrot 'Cheese_%a-%d%b%y_%H.%M.png' -e 'viewnior ~/$f'

#My locks
# i3lock
bindsym $super+l exec i3lock -i ~/wallpaper.png
# i3lock with corruptor (more facncy but slower)
bindsym $mod+shift+l exec --no-startup-id rm ~/tmp/screenshot.png ~/tmp/out.png && scrot 'screenshot.png' -e 'mv $f ~/tmp/' && cd ~/corrupter/ && ./corrupter -mag 1 -lg 7 ~/tmp/screenshot.png ~/tmp/out.png && i3lock -i ~/tmp/out.png

bindsym $super+F2 exec firefox
bindsym $super+F3 exec pcmanfm

bindsym XF86MonBrightnessUp exec brightnessctl -d intel_backlight s +5% # increase screen brightness
bindsym XF86MonBrightnessDown exec brightnessctl -d intel_backlight s 5%- # decrease screen brightness

# Pulse Audio controls
bindsym XF86AudioRaiseVolume exec amixer -q sset Master 10%+ #increase sound volume
bindsym XF86AudioLowerVolume exec amixer -q sset Master 10%- #decrease sound volume
bindsym XF86AudioMute exec amixer -q sset Master toggle # mute sound

# Touchpad controls
bindsym XF86TouchpadToggle exec /some/path/toggletouchpad.sh # toggle touchpad

# MediaplayerOnly controls
bindsym XF86AudioPlay exec playerctl play-pause
bindsym XF86AudioNext exec playerctl next
bindsym XF86AudioPrev exec playerctl previous

# kill focused window
bindsym $mod+shift+Q kill

# change focus
bindsym $super+Left focus left
bindsym $super+Down focus down
bindsym $super+Up focus up
bindsym $super+Right focus right

# move focused window
bindsym $super+Shift+Left move left
bindsym $super+Shift+Down move down
bindsym $super+Shift+Up move up
bindsym $super+Shift+Right move right

# split in horizontal orientation
bindsym $super+h split h

# split in vertical orientation
bindsym $super+v split v

# enter fullscreen mode for the focused container
bindsym $super+f fullscreen toggle

# change container layout split
bindsym $super+s layout toggle split

# toggle tiling / floating
bindsym $super+space floating toggle

# change focus between tiling / floating windows
bindsym $super+Shift+space focus mode_toggle

# switch to workspace
bindsym $mod+Control+Right workspace next
bindsym $mod+Control+Left workspace prev
#bindsym $super+1 workspace 1
#bindsym $super+2 workspace 2
#bindsym $super+3 workspace 3
#bindsym $super+4 workspace 4
#bindsym $super+5 workspace 5
#bindsym $super+6 workspace 6

# move focused container to workspace
#bindsym $super+Shift+1 move container to workspace 1
#bindsym $super+Shift+2 move container to workspace 2
#bindsym $super+Shift+3 move container to workspace 3
#bindsym $super+Shift+4 move container to workspace 4
#bindsym $super+Shift+5 move container to workspace 5
#bindsym $super+Shift+6 move container to workspace 6

set $workspace1 "1:"
set $workspace2 "2:"
set $workspace3 "3:"
set $workspace4 "4:"
set $workspace5 "5:"
set $workspace6 "6:"
set $workspace7 "7:"

# switch to workspace
bindsym $mod+1 workspace $workspace1
bindsym $mod+2 workspace $workspace2
bindsym $mod+3 workspace $workspace3
bindsym $mod+4 workspace $workspace4
bindsym $mod+5 workspace $workspace5
bindsym $mod+6 workspace $workspace6
bindsym $mod+7 workspace $workspace7

# move focused container to workspace
bindsym $mod+Shift+1 move container to workspace $workspace1
bindsym $mod+Shift+2 move container to workspace $workspace2
bindsym $mod+Shift+3 move container to workspace $workspace3
bindsym $mod+Shift+4 move container to workspace $workspace4
bindsym $mod+Shift+5 move container to workspace $workspace5
bindsym $mod+Shift+6 move container to workspace $workspace6
bindsym $mod+Shift+7 move container to workspace $workspace7

# window rules, you can find the window class using xprop
for_window [class=".*"] border pixel 2
assign [class=Firefox|Transmission-gtk] $workspace1
assign [class=subl] $workspace2
for_window [class=Viewnior] floating enable
for_window [class=URxvt|Firefox|Gimp*|Inkscape] focus

# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $super+Shift+r restart
# reload the configuration file
bindsym $mod+Shift+c reload

set $Locker i3lock && sleep 1

set $mode_system System (l) lock, (e) logout, (s) suspend, (h) hibernate, (r) reboot, (Shift+s) shutdown
mode "$mode_system" {
    bindsym l exec --no-startup-id $Locker, mode "default"
    bindsym e exec --no-startup-id i3-msg exit, mode "default"
    bindsym s exec --no-startup-id $Locker && systemctl suspend, mode "default"
    bindsym h exec --no-startup-id $Locker && systemctl hibernate, mode "default"
    bindsym r exec --no-startup-id systemctl reboot, mode "default"
    bindsym Shift+s exec --no-startup-id systemctl poweroff , mode "default"  

    # back to normal: Enter or Escape
    bindsym Return mode "default"
    bindsym Escape mode "default"
}

bindsym $mod+shift+e mode "$mode_system"


# resize window (you can also use the mouse for that)
mode "resize" {
        bindsym Left resize shrink width 5 px or 5 ppt
        bindsym Down resize grow height 5 px or 5 ppt
        bindsym Up resize shrink height 5 px or 5 ppt
        bindsym Right resize grow width 5 px or 5 ppt
        bindsym Return mode "default"
}
bindsym $super+r mode "resize"

set $bg-color            #2f343f
set $inactive-bg-color   #2f343f
set $text-color          #f3f4f5
set $inactive-text-color #676E7D
set $urgent-bg-color     #E53935

# window colors
#                       border              background         text                 indicator
client.focused          $bg-color           $bg-color          $text-color          #00ff00
client.unfocused        $inactive-bg-color $inactive-bg-color $inactive-text-color #00ff00
client.focused_inactive $inactive-bg-color $inactive-bg-color $inactive-text-color #00ff00
client.urgent $urgent-bg-color $urgent-bg-color $text-color #00ff00

# panel
bar {
        status_command i3blocks -c /home/abspython/.config/i3/i3blocks.conf
                colors {
                background $bg-color
                separator #757575
                #                  border             background         text
                focused_workspace  $bg-color          $bg-color          $text-color
                inactive_workspace $inactive-bg-color $inactive-bg-color $inactive-text-color
                urgent_workspace   $urgent-bg-color   $urgent-bg-color   $text-color
        }
}

# colour of border, background, text, indicator, and child_border
client.focused			#bf616a #2f343f #d8dee8 #bf616a #d8dee8
client.focused_inactive	#2f343f #2f343f #d8dee8 #2f343f #2f343f
client.unfocused		#2f343f #2f343f #d8dee8 #2f343f #2f343f
client.urgent			#2f343f #2f343f #d8dee8 #2f343f #2f343f
client.placeholder		#2f343f #2f343f #d8dee8 #2f343f #2f343f
client.background		#2f343f

# For Num Lock and Caps Lock indicator in i3blocks
bindsym --release Caps_Lock exec pkill -SIGRTMIN+12 i3blocks
bindsym --release Num_Lock  exec pkill -SIGRTMIN+13 i3blocks
